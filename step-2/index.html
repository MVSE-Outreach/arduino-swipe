---
layout: default
---

<p class="section" style="text-align:center;">
<img alt="Finished Circuit Picture - to be shot!"
style="max-width:700px; border-radius:15px;"/><br/><br/>
</p>

<h1>Step 2 - Detecting Movement</h1>
<p class="section">
Now we have the circuit set up, lets try and do something useful with it.
We can start really simple, and just use it like a dimmer switch. It will be
up to you later on to make it do something more exciting!
</p>

<h2>Show Me The Code</h2>
<div class="section">
<p>
Right, lets write the code! The example
code is shown below, can you work out which lines do what? See if you can
explain to yourself where we work out how fast the sensor value is changing.
</p>
<div style="text-align:left; max-width:735px;">
<img src="{{site.baseurl}}/images/ide-top.png"/>
{% highlight C linenos %}

{% include_relative gradient/gradient.ino %}

{% endhighlight %}
<img src="{{site.baseurl}}/images/ide-bottom.png"/>
</div><br/>
<p>
Again, upload the code, and have another look at the output of the serial
plotter. What do you see?
</p>
<p>
Hopefully, you will see that if you move your finger across the two LDRs slowly
that you can control the height of the blue plotter line? See if you can
gradually move it up and down. If you move your finger slowly, the red line
will not move. Now, if you quickly move your finger, you'll see the red line
jump up and down very quickly. Can you remember why it jumps only if we move
our finger quickly?
</p>
</div>

<h2>A Bright Idea</h2>
<div class="section">
<p>
Now we can see how our code works, and that the circuit works too, lets
extend it and make a little dimmer switch. You can copy the circuit below,
and hopefully, when you finish it, the code will make the LED brighter or
dimmer depending on how you move your finger over the sensor.
</p>

<img alt="Circuit Diagram" src="circuit-step-2.svg" style="width:100%;"/>
<br/>
<br/>
<img alt="Results GIF" src="circuit-step-2.gif" style="width:100%;"/>

<p>
Now you've mastered that, let's move on to trying to do actual gestures!
</p>

</div>

<br/>
<p style="text-align:center; font-weight:bolder; font-size:x-large;">
<a href="{{site.baseurl}}/step-1/">&lt; Previous</a> | 
<a href="{{site.baseurl}}/">Home</a> | 
<a href="{{site.baseurl}}/step-3/">Next &gt;</a>
</p>

